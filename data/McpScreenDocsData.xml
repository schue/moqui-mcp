<?xml version="1.0" encoding="UTF-8"?>
<!--
  This software is in the public domain under CC0 1.0 Universal plus a
   Grant of Patent License.

   To the extent possible under law, the author(s) have dedicated all
   copyright and related and neighboring rights to this software to the
   public domain worldwide. This software is distributed without any warranty.

   You should have received a copy of the CC0 Public Domain Dedication
   along with this software. If not, see
   <http://creativecommons.org/publicdomain/zero/1.0/>.
 -->
<entity-facade-xml xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:noNamespaceSchemaLocation="http://moqui.org/xsd/entity-facade-3.xsd">

    <!-- MCP Screen Documentation Wiki Space -->
    <moqui.resource.wiki.WikiSpace wikiSpaceId="MCP_SCREEN_DOCS"
        description="MCP Screen Documentation - LLM instructions for specific screens"
        restrictView="N"
        restrictUpdate="Y"
        rootPageLocation="dbresource://WikiSpace/MCP_SCREEN_DOCS.md"/>

    <!-- WikiSpace Root Page -->
    <moqui.resource.DbResource
        resourceId="WIKI_MCP_SCREEN_DOCS"
        parentResourceId=""
        filename="MCP_SCREEN_DOCS.md"
        isFile="Y"/>
    <moqui.resource.DbResourceFile
        resourceId="WIKI_MCP_SCREEN_DOCS"
        mimeType="text/markdown"
        versionName="v1">
        <fileData><![CDATA[# Moqui MCP Server

This server provides access to Moqui ERP through MCP.

## Getting Started

Use the following discovery tools to explore available functionality:
- `moqui_browse_screens`: Browse Moqui screen hierarchy
- `moqui_search_screens`: Search for screens by name to find their paths
- `moqui_get_screen_details`: Get input parameters for specific screens

## Common Screen Paths

### Catalog Operations
- `/PopCommerce/PopCommerceAdmin/Catalog/dashboard`: Catalog overview and management
- `/PopCommerce/PopCommerceAdmin/Catalog/Product/FindProduct`: Search and browse products
- `/PopCommerce/PopCommerceAdmin/Catalog/Feature/FindFeature`: Search by features like color or size
- `/PopCommerce/PopCommerceAdmin/Catalog/Product/EditPrices`: View and update product prices

### Order Management
- `/PopCommerce/PopCommerceAdmin/Order/FindOrder`: Lookup and create sales/purchase orders
- `/PopCommerce/PopCommerceAdmin/QuickSearch`: General order and customer search

### Party & Customer Management
- `/PopCommerce/PopCommerceAdmin/Party/FindParty`: Manage all parties (People, Organizations)
- `/PopCommerce/PopCommerceRoot/Customer`: Customer storefront account management
- `User`: Internal user account, notifications, and messages
- `/PopCommerce/PopCommerceAdmin/QuickSearch`: Customer lookup

### Facility & Accounting
- `/PopCommerce/PopCommerceAdmin/Facility/FindFacility`: Manage warehouses and inventory locations
- `/PopCommerce/PopCommerceAdmin/Accounting/dashboard`: Financial management and GL accounting

### System & Developer Tools
- `/tools/Tools`: Developer tools, entity data editing, and service references
- `/tools/System`: System administration, cache management, and security settings

## Tips for LLM Clients

- All screens support parameterized queries for filtering results
- Use `moqui_render_screen` with screen path to execute screens
- Screen paths use forward slash notation (e.g., `/PopCommerce/PopCommerceAdmin/Catalog/Product`)
- Check `moqui_get_screen_details` for required parameters before rendering
- Use `renderMode: "mcp"` for structured JSON output or `"text"` for human-readable format]]></fileData>
    </moqui.resource.DbResourceFile>

    <!-- Root Wiki Page -->
    <moqui.resource.wiki.WikiPage
        wikiPageId="MCP_SCREEN_DOCS/root"
        wikiSpaceId="MCP_SCREEN_DOCS"
        pagePath="root"
        publishedVersionName="v1"
        restrictView="N">
    </moqui.resource.wiki.WikiPage>

    <moqui.resource.wiki.WikiPageHistory
        wikiPageId="MCP_SCREEN_DOCS/root"
        historySeqId="1"
        versionName="v1"
        userId="EX_JOHN_DOE"
        changeDateTime="2025-01-02 00:00:00.000"/>

    <!-- Root Screen Documentation -->
    <moqui.resource.DbResource
        resourceId="WIKI_MCP_DOCS_ROOT"
        parentResourceId="WIKI_MCP_SCREEN_DOCS"
        filename="root.md"
        isFile="Y"/>
    <moqui.resource.DbResourceFile
        resourceId="WIKI_MCP_DOCS_ROOT"
        mimeType="text/markdown"
        versionName="v1">
        <fileData><![CDATA[# Moqui MCP Server

This server provides access to Moqui ERP through MCP. Typically you will be searching for a product by name or by a feature like size or color.
If it is a feature based query it is probably best to use the FindFeature screen to locate the feature and then use FindProduct to search for products with that feature.

## Getting Started

Use the following discovery tools to explore available functionality:
- `moqui_browse_screens`: Browse Moqui screen hierarchy
- `moqui_search_screens`: Search for screens by name to find their paths
- `moqui_get_screen_details`: Get input parameters for specific screens

## Common Screen Paths

### Catalog Operations
- `/PopCommerce/PopCommerceAdmin/Catalog/dashboard`: Catalog overview and management
- `/PopCommerce/PopCommerceAdmin/Catalog/Product/FindProduct`: Search and browse products
- `/PopCommerce/PopCommerceAdmin/Catalog/Feature/FindFeature`: Search by features like color or size
- `/PopCommerce/PopCommerceAdmin/Catalog/Product/EditPrices`: View and update product prices

### Order Management
- `/PopCommerce/PopCommerceAdmin/Order/FindOrder`: Lookup and create sales/purchase orders
- `/PopCommerce/PopCommerceAdmin/QuickSearch`: General order and customer search

### Party & Customer Management
- `/PopCommerce/PopCommerceAdmin/Party/FindParty`: Manage all parties (People, Organizations)
- `/PopCommerce/PopCommerceRoot/Customer`: Customer storefront account management
- `User`: Internal user account, notifications, and messages
- `/PopCommerce/PopCommerceAdmin/QuickSearch`: Customer lookup

### Facility & Accounting
- `/PopCommerce/PopCommerceAdmin/Facility/FindFacility`: Manage warehouses and inventory locations
- `/PopCommerce/PopCommerceAdmin/Accounting/dashboard`: Financial management and GL accounting

### System & Developer Tools
- `/tools/Tools`: Developer tools, entity data editing, and service references
- `/tools/System`: System administration, cache management, and security settings

## Tips for LLM Clients

- All screens support parameterized queries for filtering results
- Use `moqui_render_screen` with screen path to execute screens
- Screen paths use forward slash notation (e.g., `/PopCommerce/PopCommerceAdmin/Catalog/Product`)
- Check `moqui_get_screen_details` for required parameters before rendering
- Use `renderMode: "mcp"` for structured JSON output or `"text"` for human-readable format]]></fileData>
    </moqui.resource.DbResourceFile>

    <!-- PopCommerce Root Screen Documentation -->
    <moqui.resource.DbResource
        resourceId="WIKI_MCP_DOCS_POPCOMM_ROOT"
        parentResourceId="WIKI_MCP_SCREEN_DOCS"
        filename="PopCommerce/PopCommerceRoot.md"
        isFile="Y"/>
    <moqui.resource.DbResourceFile
        resourceId="WIKI_MCP_DOCS_POPCOMM_ROOT"
        mimeType="text/markdown"
        versionName="v1">
        <fileData><![CDATA[# PopCommerce Root

Main storefront and customer-facing screens for PopCommerce e-commerce component.

## Key Screens

- **Catalog & Products**: Browse the product catalog and view details
- **Customer Management**: Manage customer profiles and account settings
- **Order Management**: Track order history and status
- **Shopping Cart**: Review items and proceed to checkout
- **Messages**: Access `User/Messages` for internal communications

## Navigation

Use browse tools to explore the full catalog of PopCommerce screens. For administrative tasks, use the `/PopCommerce/PopCommerceAdmin` hierarchy.]]></fileData>
    </moqui.resource.DbResourceFile>

    <!-- PopCommerce Root Wiki Page -->
    <moqui.resource.wiki.WikiPage
        wikiPageId="MCP_SCREEN_DOCS/PopCommerceRoot"
        wikiSpaceId="MCP_SCREEN_DOCS"
        pagePath="PopCommerce/PopCommerceRoot"
        publishedVersionName="v1"
        restrictView="N">
    </moqui.resource.wiki.WikiPage>

    <moqui.resource.wiki.WikiPageHistory
        wikiPageId="MCP_SCREEN_DOCS/PopCommerceRoot"
        historySeqId="1"
        versionName="v1"
        userId="EX_JOHN_DOE"
        changeDateTime="2025-01-02 00:00:00.000"/>

    <!-- SimpleScreens Root Documentation -->
    <moqui.resource.DbResource
        resourceId="WIKI_MCP_DOCS_SIMPLE_ROOT"
        parentResourceId="WIKI_MCP_SCREEN_DOCS"
        filename="SimpleScreens/Root.md"
        isFile="Y"/>
    <moqui.resource.DbResourceFile
        resourceId="WIKI_MCP_DOCS_SIMPLE_ROOT"
        mimeType="text/markdown"
        versionName="v1">
        <fileData><![CDATA[# Simple Screens Root

Basic Moqui framework demonstration screens showing common patterns and examples.

## Screens

- **Hello World**: Simple text rendering example
- **Examples**: Various framework demonstration screens
- **Forms**: Form input and validation examples
- **Lists**: Data list and table examples

## Usage

These screens are primarily for learning Moqui screen development patterns.]]></fileData>
    </moqui.resource.DbResourceFile>

    <!-- SimpleScreens Root Wiki Page -->
    <moqui.resource.wiki.WikiPage
        wikiPageId="MCP_SCREEN_DOCS/SimpleRoot"
        wikiSpaceId="MCP_SCREEN_DOCS"
        pagePath="SimpleScreens/Root"
        publishedVersionName="v1"
        restrictView="N">
    </moqui.resource.wiki.WikiPage>

    <moqui.resource.wiki.WikiPageHistory
        wikiPageId="MCP_SCREEN_DOCS/SimpleRoot"
        historySeqId="1"
        versionName="v1"
        userId="EX_JOHN_DOE"
        changeDateTime="2025-01-02 00:00:00.000"/>

    <!-- User Messages Documentation -->
    <moqui.resource.DbResource
        resourceId="WIKI_MCP_DOCS_USER_MESSAGES"
        parentResourceId="WIKI_MCP_SCREEN_DOCS"
        filename="User/Messages.md"
        isFile="Y"/>
    <moqui.resource.DbResourceFile
        resourceId="WIKI_MCP_DOCS_USER_MESSAGES"
        mimeType="text/markdown"
        versionName="v1">
        <fileData><![CDATA[# User Messages

Interface for sending and receiving messages between users and other parties.

## Key Actions

- **Create Message**: Send a new message. Requires `toPartyId`, `subject`, and `body`.
- **View Thread**: View the conversation history for a message.
- **Find Messages**: Search for existing messages by various criteria.

## Usage

Use this screen to communicate about orders, products, or general administrative tasks.]]></fileData>
    </moqui.resource.DbResourceFile>

    <moqui.resource.wiki.WikiPage
        wikiPageId="MCP_SCREEN_DOCS/UserMessages"
        wikiSpaceId="MCP_SCREEN_DOCS"
        pagePath="User/Messages"
        publishedVersionName="v1"
        restrictView="N">
    </moqui.resource.wiki.WikiPage>

    <moqui.resource.wiki.WikiPageHistory
        wikiPageId="MCP_SCREEN_DOCS/UserMessages"
        historySeqId="1"
        versionName="v1"
        userId="EX_JOHN_DOE"
        changeDateTime="2025-01-14 00:00:00.000"/>

    <!-- Tools Documentation -->
    <moqui.resource.DbResource
        resourceId="WIKI_MCP_DOCS_TOOLS"
        parentResourceId="WIKI_MCP_SCREEN_DOCS"
        filename="tools/Tools.md"
        isFile="Y"/>
    <moqui.resource.DbResourceFile
        resourceId="WIKI_MCP_DOCS_TOOLS"
        mimeType="text/markdown"
        versionName="v1">
        <fileData><![CDATA[# Developer Tools

Central hub for developer and data management utilities.

## Key Subscreens

- **Entity**: Data editing, import/export, and performance stats. Use `tools/Tools/Entity/DataEdit/EntityList` to browse and edit any entity.
- **Service**: Service reference and testing tools.
- **AutoScreen**: Automatically generated screens for all entities.
- **GroovyShell**: Execute arbitrary Groovy code (use with extreme caution).

## Usage

Use these tools for low-level data manipulation or system exploration when standard administrative screens are insufficient.]]></fileData>
    </moqui.resource.DbResourceFile>

    <moqui.resource.wiki.WikiPage
        wikiPageId="MCP_SCREEN_DOCS/Tools"
        wikiSpaceId="MCP_SCREEN_DOCS"
        pagePath="tools/Tools"
        publishedVersionName="v1"
        restrictView="N">
    </moqui.resource.wiki.WikiPage>

    <moqui.resource.wiki.WikiPageHistory
        wikiPageId="MCP_SCREEN_DOCS/Tools"
        historySeqId="1"
        versionName="v1"
        userId="EX_JOHN_DOE"
        changeDateTime="2025-01-14 00:00:00.000"/>

    <!-- System Documentation -->
    <moqui.resource.DbResource
        resourceId="WIKI_MCP_DOCS_SYSTEM"
        parentResourceId="WIKI_MCP_SCREEN_DOCS"
        filename="tools/System.md"
        isFile="Y"/>
    <moqui.resource.DbResourceFile
        resourceId="WIKI_MCP_DOCS_SYSTEM"
        mimeType="text/markdown"
        versionName="v1">
        <fileData><![CDATA[# System Administration

Core system management and monitoring screens.

## Key Subscreens

- **Security**: Manage users, user groups, and artifact permissions.
- **Cache**: View and clear system caches.
- **ServiceJob**: Manage scheduled and background service jobs.
- **LogViewer**: View system logs and hit statistics.

## Usage

Use these screens to monitor system health, manage user access, and troubleshoot operational issues.]]></fileData>
    </moqui.resource.DbResourceFile>

    <moqui.resource.wiki.WikiPage
        wikiPageId="MCP_SCREEN_DOCS/System"
        wikiSpaceId="MCP_SCREEN_DOCS"
        pagePath="tools/System"
        publishedVersionName="v1"
        restrictView="N">
    </moqui.resource.wiki.WikiPage>

    <moqui.resource.wiki.WikiPageHistory
        wikiPageId="MCP_SCREEN_DOCS/System"
        historySeqId="1"
        versionName="v1"
        userId="EX_JOHN_DOE"
        changeDateTime="2025-01-14 00:00:00.000"/>

</entity-facade-xml>
